
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Cppcheck - HTML report - htmlREPORTcppcheck</title>
    <link rel="stylesheet" href="style.css">
    <style>
pre { line-height: 125%; margin: 0; }
td.linenos pre { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; }
span.linenos { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; }
td.linenos pre.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #FF0000; background-color: #FFAAAA } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .o { color: #333333 } /* Operator */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #557799 } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #003388; font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #333399; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #6600EE; font-weight: bold } /* Literal.Number */
.highlight .s { background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #0000CC } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #BB0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #880000; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #FF0000; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066BB; font-weight: bold } /* Name.Function */
.highlight .nl { color: #997700; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #007700 } /* Name.Tag */
.highlight .nv { color: #996633 } /* Name.Variable */
.highlight .ow { color: #000000; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #6600EE; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #6600EE; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #005588; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #4400EE; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #0044DD } /* Literal.String.Char */
.highlight .dl { background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #DD4422 } /* Literal.String.Doc */
.highlight .s2 { background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #666666; font-weight: bold; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { background-color: #eeeeee } /* Literal.String.Interpol */
.highlight .sx { color: #DD2200; background-color: #fff0f0 } /* Literal.String.Other */
.highlight .sr { color: #000000; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #AA6600 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066BB; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700; font-weight: bold } /* Name.Variable.Global */
.highlight .vi { color: #3333BB } /* Name.Variable.Instance */
.highlight .vm { color: #996633 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */
    </style>
    <script>
      function getStyle(el, styleProp) {
        var y;

        if (el.currentStyle) {
          y = el.currentStyle[styleProp];
        } else if (window.getComputedStyle) {
          y = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);
        }

        return y;
      }

      function toggle() {
        var el = this.expandable_content;
        var mark = this.expandable_marker;

        if (el.style.display === "block") {
          el.style.display = "none";
          mark.textContent = "[+]";
        } else {
          el.style.display = "block";
          mark.textContent = "[-]";
        }
      }

      function initExpandables() {
        var elements = document.querySelectorAll(".expandable");

        for (var i = 0, len = elements.length; i < len; i++) {
          var el = elements[i];
          var clickable = el.querySelector("span");
          var marker = clickable.querySelector(".marker");
          var content = el.querySelector(".content");
          var width = clickable.clientWidth - parseInt(getStyle(content, "padding-left")) - parseInt(getStyle(content, "padding-right"));
          content.style.width = width + "px";
          clickable.expandable_content = content;
          clickable.expandable_marker = marker;
          clickable.addEventListener("click", toggle);
        }
      }

      function toggleDisplay(id) {
        var elements = document.querySelectorAll("." + id);

        for (var i = 0, len = elements.length; i < len; i++) {
          elements[i].classList.toggle("d-none");
        }
      }

      function toggleAll() {
        var elements = document.querySelectorAll("input");

        // starting from 1 since 0 is the "toggle all" input
        for (var i = 1, len = elements.length; i < len; i++) {
          var el = elements[i];

          if (el.checked) {
            el.checked = false;
          } else {
            el.checked = true;
          }

          toggleDisplay(el.id);
        }
      }
      window.addEventListener("load", initExpandables);
    </script>
  </head>
  <body>
    <div id="header" class="header">
      <h1>Cppcheck report - htmlREPORTcppcheck: target_code_to_be_tested/hall_detection_algoritm/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_pwr_ex.c</h1>
    </div>
    <div class="wrapper">
      <div id="menu">
       <p id="filename"><a href="index.html">Defects:</a> stm32f4xx_hal_pwr_ex.c</p>
<a href="8.html#line-141"> unusedFunction 141</a><a href="8.html#line-165"> unusedFunction 165</a><a href="8.html#line-189"> unusedFunction 189</a><a href="8.html#line-198"> unusedFunction 198</a><a href="8.html#line-211"> unusedFunction 211</a><a href="8.html#line-288"> unusedFunction 288</a><a href="8.html#line-290"> variableScope 290</a><a href="8.html#line-290"> unreadVariable 290</a><a href="8.html#line-359"> unusedFunction 359</a><a href="8.html#line-370"> unusedFunction 370</a><a href="8.html#line-381"> unusedFunction 381</a><a href="8.html#line-392"> unusedFunction 392</a><a href="8.html#line-460"> unusedFunction 460</a><a href="8.html#line-536"> unusedFunction 536</a>
    </div>
    <div id="content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600</pre></div></td><td class="code"><div class="highlight"><pre><span></span><a name="line-1"></a><span class="cm">/**</span>
<a name="line-2"></a><span class="cm">  ******************************************************************************</span>
<a name="line-3"></a><span class="cm">  * @file    stm32f4xx_hal_pwr_ex.c</span>
<a name="line-4"></a><span class="cm">  * @author  MCD Application Team</span>
<a name="line-5"></a><span class="cm">  * @brief   Extended PWR HAL module driver.</span>
<a name="line-6"></a><span class="cm">  *          This file provides firmware functions to manage the following </span>
<a name="line-7"></a><span class="cm">  *          functionalities of PWR extension peripheral:           </span>
<a name="line-8"></a><span class="cm">  *           + Peripheral Extended features functions</span>
<a name="line-9"></a><span class="cm">  *         </span>
<a name="line-10"></a><span class="cm">  ******************************************************************************</span>
<a name="line-11"></a><span class="cm">  * @attention</span>
<a name="line-12"></a><span class="cm">  *</span>
<a name="line-13"></a><span class="cm">  * Copyright (c) 2017 STMicroelectronics.</span>
<a name="line-14"></a><span class="cm">  * All rights reserved.</span>
<a name="line-15"></a><span class="cm">  *</span>
<a name="line-16"></a><span class="cm">  * This software is licensed under terms that can be found in the LICENSE file in</span>
<a name="line-17"></a><span class="cm">  * the root directory of this software component.</span>
<a name="line-18"></a><span class="cm">  * If no LICENSE file comes with this software, it is provided AS-IS.</span>
<a name="line-19"></a><span class="cm">  ******************************************************************************</span>
<a name="line-20"></a><span class="cm">  */</span> 
<a name="line-21"></a>
<a name="line-22"></a><span class="cm">/* Includes ------------------------------------------------------------------*/</span>
<a name="line-23"></a><span class="cp">#include</span> <span class="cpf">&quot;stm32f4xx_hal.h&quot;</span><span class="cp"></span>
<a name="line-24"></a>
<a name="line-25"></a><span class="cm">/** @addtogroup STM32F4xx_HAL_Driver</span>
<a name="line-26"></a><span class="cm">  * @{</span>
<a name="line-27"></a><span class="cm">  */</span>
<a name="line-28"></a>
<a name="line-29"></a><span class="cm">/** @defgroup PWREx PWREx</span>
<a name="line-30"></a><span class="cm">  * @brief PWR HAL module driver</span>
<a name="line-31"></a><span class="cm">  * @{</span>
<a name="line-32"></a><span class="cm">  */</span>
<a name="line-33"></a>
<a name="line-34"></a><span class="cp">#ifdef HAL_PWR_MODULE_ENABLED</span>
<a name="line-35"></a>
<a name="line-36"></a><span class="cm">/* Private typedef -----------------------------------------------------------*/</span>
<a name="line-37"></a><span class="cm">/* Private define ------------------------------------------------------------*/</span>
<a name="line-38"></a><span class="cm">/** @addtogroup PWREx_Private_Constants</span>
<a name="line-39"></a><span class="cm">  * @{</span>
<a name="line-40"></a><span class="cm">  */</span>    
<a name="line-41"></a><span class="cp">#define PWR_OVERDRIVE_TIMEOUT_VALUE  1000U</span>
<a name="line-42"></a><span class="cp">#define PWR_UDERDRIVE_TIMEOUT_VALUE  1000U</span>
<a name="line-43"></a><span class="cp">#define PWR_BKPREG_TIMEOUT_VALUE     1000U</span>
<a name="line-44"></a><span class="cp">#define PWR_VOSRDY_TIMEOUT_VALUE     1000U</span>
<a name="line-45"></a><span class="cm">/**</span>
<a name="line-46"></a><span class="cm">  * @}</span>
<a name="line-47"></a><span class="cm">  */</span>
<a name="line-48"></a>
<a name="line-49"></a>   
<a name="line-50"></a><span class="cm">/* Private macro -------------------------------------------------------------*/</span>
<a name="line-51"></a><span class="cm">/* Private variables ---------------------------------------------------------*/</span>
<a name="line-52"></a><span class="cm">/* Private function prototypes -----------------------------------------------*/</span>
<a name="line-53"></a><span class="cm">/* Private functions ---------------------------------------------------------*/</span>
<a name="line-54"></a><span class="cm">/** @defgroup PWREx_Exported_Functions PWREx Exported Functions</span>
<a name="line-55"></a><span class="cm">  *  @{</span>
<a name="line-56"></a><span class="cm">  */</span>
<a name="line-57"></a>
<a name="line-58"></a><span class="cm">/** @defgroup PWREx_Exported_Functions_Group1 Peripheral Extended features functions </span>
<a name="line-59"></a><span class="cm">  *  @brief Peripheral Extended features functions </span>
<a name="line-60"></a><span class="cm">  *</span>
<a name="line-61"></a><span class="cm">@verbatim   </span>
<a name="line-62"></a>
<a name="line-63"></a><span class="cm"> ===============================================================================</span>
<a name="line-64"></a><span class="cm">                 ##### Peripheral extended features functions #####</span>
<a name="line-65"></a><span class="cm"> ===============================================================================</span>
<a name="line-66"></a>
<a name="line-67"></a><span class="cm">    *** Main and Backup Regulators configuration ***</span>
<a name="line-68"></a><span class="cm">    ================================================</span>
<a name="line-69"></a><span class="cm">    [..] </span>
<a name="line-70"></a><span class="cm">      (+) The backup domain includes 4 Kbytes of backup SRAM accessible only from </span>
<a name="line-71"></a><span class="cm">          the CPU, and address in 32-bit, 16-bit or 8-bit mode. Its content is </span>
<a name="line-72"></a><span class="cm">          retained even in Standby or VBAT mode when the low power backup regulator</span>
<a name="line-73"></a><span class="cm">          is enabled. It can be considered as an internal EEPROM when VBAT is </span>
<a name="line-74"></a><span class="cm">          always present. You can use the HAL_PWREx_EnableBkUpReg() function to </span>
<a name="line-75"></a><span class="cm">          enable the low power backup regulator. </span>
<a name="line-76"></a>
<a name="line-77"></a><span class="cm">      (+) When the backup domain is supplied by VDD (analog switch connected to VDD) </span>
<a name="line-78"></a><span class="cm">          the backup SRAM is powered from VDD which replaces the VBAT power supply to </span>
<a name="line-79"></a><span class="cm">          save battery life.</span>
<a name="line-80"></a>
<a name="line-81"></a><span class="cm">      (+) The backup SRAM is not mass erased by a tamper event. It is read </span>
<a name="line-82"></a><span class="cm">          protected to prevent confidential data, such as cryptographic private </span>
<a name="line-83"></a><span class="cm">          key, from being accessed. The backup SRAM can be erased only through </span>
<a name="line-84"></a><span class="cm">          the Flash interface when a protection level change from level 1 to </span>
<a name="line-85"></a><span class="cm">          level 0 is requested. </span>
<a name="line-86"></a><span class="cm">      -@- Refer to the description of Read protection (RDP) in the Flash </span>
<a name="line-87"></a><span class="cm">          programming manual.</span>
<a name="line-88"></a>
<a name="line-89"></a><span class="cm">      (+) The main internal regulator can be configured to have a tradeoff between </span>
<a name="line-90"></a><span class="cm">          performance and power consumption when the device does not operate at </span>
<a name="line-91"></a><span class="cm">          the maximum frequency. This is done through __HAL_PWR_MAINREGULATORMODE_CONFIG() </span>
<a name="line-92"></a><span class="cm">          macro which configure VOS bit in PWR_CR register</span>
<a name="line-93"></a><span class="cm">          </span>
<a name="line-94"></a><span class="cm">        Refer to the product datasheets for more details.</span>
<a name="line-95"></a>
<a name="line-96"></a><span class="cm">    *** FLASH Power Down configuration ****</span>
<a name="line-97"></a><span class="cm">    =======================================</span>
<a name="line-98"></a><span class="cm">    [..] </span>
<a name="line-99"></a><span class="cm">      (+) By setting the FPDS bit in the PWR_CR register by using the </span>
<a name="line-100"></a><span class="cm">          HAL_PWREx_EnableFlashPowerDown() function, the Flash memory also enters power </span>
<a name="line-101"></a><span class="cm">          down mode when the device enters Stop mode. When the Flash memory </span>
<a name="line-102"></a><span class="cm">          is in power down mode, an additional startup delay is incurred when </span>
<a name="line-103"></a><span class="cm">          waking up from Stop mode.</span>
<a name="line-104"></a><span class="cm">          </span>
<a name="line-105"></a><span class="cm">           (+) For STM32F42xxx/43xxx/446xx/469xx/479xx Devices, the scale can be modified only when the PLL </span>
<a name="line-106"></a><span class="cm">           is OFF and the HSI or HSE clock source is selected as system clock. </span>
<a name="line-107"></a><span class="cm">           The new value programmed is active only when the PLL is ON.</span>
<a name="line-108"></a><span class="cm">           When the PLL is OFF, the voltage scale 3 is automatically selected. </span>
<a name="line-109"></a><span class="cm">        Refer to the datasheets for more details.</span>
<a name="line-110"></a>
<a name="line-111"></a><span class="cm">    *** Over-Drive and Under-Drive configuration ****</span>
<a name="line-112"></a><span class="cm">    =================================================</span>
<a name="line-113"></a><span class="cm">    [..]         </span>
<a name="line-114"></a><span class="cm">       (+) For STM32F42xxx/43xxx/446xx/469xx/479xx Devices, in Run mode: the main regulator has</span>
<a name="line-115"></a><span class="cm">           2 operating modes available:</span>
<a name="line-116"></a><span class="cm">        (++) Normal mode: The CPU and core logic operate at maximum frequency at a given </span>
<a name="line-117"></a><span class="cm">             voltage scaling (scale 1, scale 2 or scale 3)</span>
<a name="line-118"></a><span class="cm">        (++) Over-drive mode: This mode allows the CPU and the core logic to operate at a </span>
<a name="line-119"></a><span class="cm">            higher frequency than the normal mode for a given voltage scaling (scale 1,  </span>
<a name="line-120"></a><span class="cm">            scale 2 or scale 3). This mode is enabled through HAL_PWREx_EnableOverDrive() function and</span>
<a name="line-121"></a><span class="cm">            disabled by HAL_PWREx_DisableOverDrive() function, to enter or exit from Over-drive mode please follow </span>
<a name="line-122"></a><span class="cm">            the sequence described in Reference manual.</span>
<a name="line-123"></a><span class="cm">             </span>
<a name="line-124"></a><span class="cm">       (+) For STM32F42xxx/43xxx/446xx/469xx/479xx Devices, in Stop mode: the main regulator or low power regulator </span>
<a name="line-125"></a><span class="cm">           supplies a low power voltage to the 1.2V domain, thus preserving the content of registers </span>
<a name="line-126"></a><span class="cm">           and internal SRAM. 2 operating modes are available:</span>
<a name="line-127"></a><span class="cm">         (++) Normal mode: the 1.2V domain is preserved in nominal leakage mode. This mode is only </span>
<a name="line-128"></a><span class="cm">              available when the main regulator or the low power regulator is used in Scale 3 or </span>
<a name="line-129"></a><span class="cm">              low voltage mode.</span>
<a name="line-130"></a><span class="cm">         (++) Under-drive mode: the 1.2V domain is preserved in reduced leakage mode. This mode is only</span>
<a name="line-131"></a><span class="cm">              available when the main regulator or the low power regulator is in low voltage mode.</span>
<a name="line-132"></a>
<a name="line-133"></a><span class="cm">@endverbatim</span>
<a name="line-134"></a><span class="cm">  * @{</span>
<a name="line-135"></a><span class="cm">  */</span>
<a name="line-136"></a>
<a name="line-137"></a><span class="cm">/**</span>
<a name="line-138"></a><span class="cm">  * @brief Enables the Backup Regulator.</span>
<a name="line-139"></a><span class="cm">  * @retval HAL status</span>
<a name="line-140"></a><span class="cm">  */</span>
<a name="line-141"></a><span class="hll"><span class="n">HAL_StatusTypeDef</span> <span class="nf">HAL_PWREx_EnableBkUpReg</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_EnableBkUpReg' is never used.</span>
</span><a name="line-142"></a><span class="p">{</span>
<a name="line-143"></a>  <span class="kt">uint32_t</span> <span class="n">tickstart</span> <span class="o">=</span> <span class="mi">0U</span><span class="p">;</span>
<a name="line-144"></a>
<a name="line-145"></a>  <span class="o">*</span><span class="p">(</span><span class="n">__IO</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="p">)</span> <span class="n">CSR_BRE_BB</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">ENABLE</span><span class="p">;</span>
<a name="line-146"></a>
<a name="line-147"></a>  <span class="cm">/* Get tick */</span>
<a name="line-148"></a>  <span class="n">tickstart</span> <span class="o">=</span> <span class="n">HAL_GetTick</span><span class="p">();</span>
<a name="line-149"></a>
<a name="line-150"></a>  <span class="cm">/* Wait till Backup regulator ready flag is set */</span>  
<a name="line-151"></a>  <span class="k">while</span><span class="p">(</span><span class="n">__HAL_PWR_GET_FLAG</span><span class="p">(</span><span class="n">PWR_FLAG_BRR</span><span class="p">)</span> <span class="o">==</span> <span class="n">RESET</span><span class="p">)</span>
<a name="line-152"></a>  <span class="p">{</span>
<a name="line-153"></a>    <span class="k">if</span><span class="p">((</span><span class="n">HAL_GetTick</span><span class="p">()</span> <span class="o">-</span> <span class="n">tickstart</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="n">PWR_BKPREG_TIMEOUT_VALUE</span><span class="p">)</span>
<a name="line-154"></a>    <span class="p">{</span>
<a name="line-155"></a>      <span class="k">return</span> <span class="n">HAL_TIMEOUT</span><span class="p">;</span>
<a name="line-156"></a>    <span class="p">}</span> 
<a name="line-157"></a>  <span class="p">}</span>
<a name="line-158"></a>  <span class="k">return</span> <span class="n">HAL_OK</span><span class="p">;</span>
<a name="line-159"></a><span class="p">}</span>
<a name="line-160"></a>
<a name="line-161"></a><span class="cm">/**</span>
<a name="line-162"></a><span class="cm">  * @brief Disables the Backup Regulator.</span>
<a name="line-163"></a><span class="cm">  * @retval HAL status</span>
<a name="line-164"></a><span class="cm">  */</span>
<a name="line-165"></a><span class="hll"><span class="n">HAL_StatusTypeDef</span> <span class="nf">HAL_PWREx_DisableBkUpReg</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_DisableBkUpReg' is never used.</span>
</span><a name="line-166"></a><span class="p">{</span>
<a name="line-167"></a>  <span class="kt">uint32_t</span> <span class="n">tickstart</span> <span class="o">=</span> <span class="mi">0U</span><span class="p">;</span>
<a name="line-168"></a>
<a name="line-169"></a>  <span class="o">*</span><span class="p">(</span><span class="n">__IO</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="p">)</span> <span class="n">CSR_BRE_BB</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">DISABLE</span><span class="p">;</span>
<a name="line-170"></a>
<a name="line-171"></a>  <span class="cm">/* Get tick */</span>
<a name="line-172"></a>  <span class="n">tickstart</span> <span class="o">=</span> <span class="n">HAL_GetTick</span><span class="p">();</span>
<a name="line-173"></a>
<a name="line-174"></a>  <span class="cm">/* Wait till Backup regulator ready flag is set */</span>  
<a name="line-175"></a>  <span class="k">while</span><span class="p">(</span><span class="n">__HAL_PWR_GET_FLAG</span><span class="p">(</span><span class="n">PWR_FLAG_BRR</span><span class="p">)</span> <span class="o">!=</span> <span class="n">RESET</span><span class="p">)</span>
<a name="line-176"></a>  <span class="p">{</span>
<a name="line-177"></a>    <span class="k">if</span><span class="p">((</span><span class="n">HAL_GetTick</span><span class="p">()</span> <span class="o">-</span> <span class="n">tickstart</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="n">PWR_BKPREG_TIMEOUT_VALUE</span><span class="p">)</span>
<a name="line-178"></a>    <span class="p">{</span>
<a name="line-179"></a>      <span class="k">return</span> <span class="n">HAL_TIMEOUT</span><span class="p">;</span>
<a name="line-180"></a>    <span class="p">}</span> 
<a name="line-181"></a>  <span class="p">}</span>
<a name="line-182"></a>  <span class="k">return</span> <span class="n">HAL_OK</span><span class="p">;</span>
<a name="line-183"></a><span class="p">}</span>
<a name="line-184"></a>
<a name="line-185"></a><span class="cm">/**</span>
<a name="line-186"></a><span class="cm">  * @brief Enables the Flash Power Down in Stop mode.</span>
<a name="line-187"></a><span class="cm">  * @retval None</span>
<a name="line-188"></a><span class="cm">  */</span>
<a name="line-189"></a><span class="hll"><span class="kt">void</span> <span class="nf">HAL_PWREx_EnableFlashPowerDown</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_EnableFlashPowerDown' is never used.</span>
</span><a name="line-190"></a><span class="p">{</span>
<a name="line-191"></a>  <span class="o">*</span><span class="p">(</span><span class="n">__IO</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="p">)</span> <span class="n">CR_FPDS_BB</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">ENABLE</span><span class="p">;</span>
<a name="line-192"></a><span class="p">}</span>
<a name="line-193"></a>
<a name="line-194"></a><span class="cm">/**</span>
<a name="line-195"></a><span class="cm">  * @brief Disables the Flash Power Down in Stop mode.</span>
<a name="line-196"></a><span class="cm">  * @retval None</span>
<a name="line-197"></a><span class="cm">  */</span>
<a name="line-198"></a><span class="hll"><span class="kt">void</span> <span class="nf">HAL_PWREx_DisableFlashPowerDown</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_DisableFlashPowerDown' is never used.</span>
</span><a name="line-199"></a><span class="p">{</span>
<a name="line-200"></a>  <span class="o">*</span><span class="p">(</span><span class="n">__IO</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="p">)</span> <span class="n">CR_FPDS_BB</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">DISABLE</span><span class="p">;</span>
<a name="line-201"></a><span class="p">}</span>
<a name="line-202"></a>
<a name="line-203"></a><span class="cm">/**</span>
<a name="line-204"></a><span class="cm">  * @brief Return Voltage Scaling Range.</span>
<a name="line-205"></a><span class="cm">  * @retval The configured scale for the regulator voltage(VOS bit field).</span>
<a name="line-206"></a><span class="cm">  *         The returned value can be one of the following:</span>
<a name="line-207"></a><span class="cm">  *            - @arg PWR_REGULATOR_VOLTAGE_SCALE1: Regulator voltage output Scale 1 mode</span>
<a name="line-208"></a><span class="cm">  *            - @arg PWR_REGULATOR_VOLTAGE_SCALE2: Regulator voltage output Scale 2 mode</span>
<a name="line-209"></a><span class="cm">  *            - @arg PWR_REGULATOR_VOLTAGE_SCALE3: Regulator voltage output Scale 3 mode</span>
<a name="line-210"></a><span class="cm">  */</span>  
<a name="line-211"></a><span class="hll"><span class="kt">uint32_t</span> <span class="nf">HAL_PWREx_GetVoltageRange</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_GetVoltageRange' is never used.</span>
</span><a name="line-212"></a><span class="p">{</span>
<a name="line-213"></a>  <span class="k">return</span> <span class="p">(</span><span class="n">PWR</span><span class="o">-&gt;</span><span class="n">CR</span> <span class="o">&amp;</span> <span class="n">PWR_CR_VOS</span><span class="p">);</span>
<a name="line-214"></a><span class="p">}</span>
<a name="line-215"></a>
<a name="line-216"></a><span class="cp">#if defined(STM32F405xx) || defined(STM32F415xx) || defined(STM32F407xx) || defined(STM32F417xx)</span>
<a name="line-217"></a><span class="cm">/**</span>
<a name="line-218"></a><span class="cm">  * @brief Configures the main internal regulator output voltage.</span>
<a name="line-219"></a><span class="cm">  * @param  VoltageScaling specifies the regulator output voltage to achieve</span>
<a name="line-220"></a><span class="cm">  *         a tradeoff between performance and power consumption.</span>
<a name="line-221"></a><span class="cm">  *          This parameter can be one of the following values:</span>
<a name="line-222"></a><span class="cm">  *            @arg PWR_REGULATOR_VOLTAGE_SCALE1: Regulator voltage output range 1 mode,</span>
<a name="line-223"></a><span class="cm">  *                                               the maximum value of fHCLK = 168 MHz.</span>
<a name="line-224"></a><span class="cm">  *            @arg PWR_REGULATOR_VOLTAGE_SCALE2: Regulator voltage output range 2 mode,</span>
<a name="line-225"></a><span class="cm">  *                                               the maximum value of fHCLK = 144 MHz.</span>
<a name="line-226"></a><span class="cm">  * @note  When moving from Range 1 to Range 2, the system frequency must be decreased to</span>
<a name="line-227"></a><span class="cm">  *        a value below 144 MHz before calling HAL_PWREx_ConfigVoltageScaling() API.</span>
<a name="line-228"></a><span class="cm">  *        When moving from Range 2 to Range 1, the system frequency can be increased to</span>
<a name="line-229"></a><span class="cm">  *        a value up to 168 MHz after calling HAL_PWREx_ConfigVoltageScaling() API.</span>
<a name="line-230"></a><span class="cm">  * @retval HAL Status</span>
<a name="line-231"></a><span class="cm">  */</span>
<a name="line-232"></a><span class="n">HAL_StatusTypeDef</span> <span class="nf">HAL_PWREx_ControlVoltageScaling</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">VoltageScaling</span><span class="p">)</span>
<a name="line-233"></a><span class="p">{</span>
<a name="line-234"></a>  <span class="kt">uint32_t</span> <span class="n">tickstart</span> <span class="o">=</span> <span class="mi">0U</span><span class="p">;</span>
<a name="line-235"></a>  
<a name="line-236"></a>  <span class="n">assert_param</span><span class="p">(</span><span class="n">IS_PWR_VOLTAGE_SCALING_RANGE</span><span class="p">(</span><span class="n">VoltageScaling</span><span class="p">));</span>
<a name="line-237"></a>  
<a name="line-238"></a>  <span class="cm">/* Enable PWR RCC Clock Peripheral */</span>
<a name="line-239"></a>  <span class="n">__HAL_RCC_PWR_CLK_ENABLE</span><span class="p">();</span>
<a name="line-240"></a>  
<a name="line-241"></a>  <span class="cm">/* Set Range */</span>
<a name="line-242"></a>  <span class="n">__HAL_PWR_VOLTAGESCALING_CONFIG</span><span class="p">(</span><span class="n">VoltageScaling</span><span class="p">);</span>
<a name="line-243"></a>  
<a name="line-244"></a>  <span class="cm">/* Get Start Tick*/</span>
<a name="line-245"></a>  <span class="n">tickstart</span> <span class="o">=</span> <span class="n">HAL_GetTick</span><span class="p">();</span>
<a name="line-246"></a>  <span class="k">while</span><span class="p">((</span><span class="n">__HAL_PWR_GET_FLAG</span><span class="p">(</span><span class="n">PWR_FLAG_VOSRDY</span><span class="p">)</span> <span class="o">==</span> <span class="n">RESET</span><span class="p">))</span>
<a name="line-247"></a>  <span class="p">{</span>
<a name="line-248"></a>    <span class="k">if</span><span class="p">((</span><span class="n">HAL_GetTick</span><span class="p">()</span> <span class="o">-</span> <span class="n">tickstart</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="n">PWR_VOSRDY_TIMEOUT_VALUE</span><span class="p">)</span>
<a name="line-249"></a>    <span class="p">{</span>
<a name="line-250"></a>      <span class="k">return</span> <span class="n">HAL_TIMEOUT</span><span class="p">;</span>
<a name="line-251"></a>    <span class="p">}</span> 
<a name="line-252"></a>  <span class="p">}</span>
<a name="line-253"></a>
<a name="line-254"></a>  <span class="k">return</span> <span class="n">HAL_OK</span><span class="p">;</span>
<a name="line-255"></a><span class="p">}</span>
<a name="line-256"></a>
<a name="line-257"></a><span class="cp">#elif defined(STM32F427xx) || defined(STM32F437xx) || defined(STM32F429xx) || defined(STM32F439xx) || \</span>
<a name="line-258"></a><span class="cp">      defined(STM32F401xC) || defined(STM32F401xE) || defined(STM32F410Tx) || defined(STM32F410Cx) || \</span>
<a name="line-259"></a><span class="cp">      defined(STM32F410Rx) || defined(STM32F411xE) || defined(STM32F446xx) || defined(STM32F469xx) || \</span>
<a name="line-260"></a><span class="cp">      defined(STM32F479xx) || defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || \</span>
<a name="line-261"></a><span class="cp">      defined(STM32F412Cx) || defined(STM32F413xx) || defined(STM32F423xx)</span>
<a name="line-262"></a><span class="cm">/**</span>
<a name="line-263"></a><span class="cm">  * @brief Configures the main internal regulator output voltage.</span>
<a name="line-264"></a><span class="cm">  * @param  VoltageScaling specifies the regulator output voltage to achieve</span>
<a name="line-265"></a><span class="cm">  *         a tradeoff between performance and power consumption.</span>
<a name="line-266"></a><span class="cm">  *          This parameter can be one of the following values:</span>
<a name="line-267"></a><span class="cm">  *            @arg PWR_REGULATOR_VOLTAGE_SCALE1: Regulator voltage output range 1 mode,</span>
<a name="line-268"></a><span class="cm">  *                                               the maximum value of fHCLK is 168 MHz. It can be extended to</span>
<a name="line-269"></a><span class="cm">  *                                               180 MHz by activating the over-drive mode.</span>
<a name="line-270"></a><span class="cm">  *            @arg PWR_REGULATOR_VOLTAGE_SCALE2: Regulator voltage output range 2 mode,</span>
<a name="line-271"></a><span class="cm">  *                                               the maximum value of fHCLK is 144 MHz. It can be extended to,                </span>
<a name="line-272"></a><span class="cm">  *                                               168 MHz by activating the over-drive mode.</span>
<a name="line-273"></a><span class="cm">  *            @arg PWR_REGULATOR_VOLTAGE_SCALE3: Regulator voltage output range 3 mode,</span>
<a name="line-274"></a><span class="cm">  *                                               the maximum value of fHCLK is 120 MHz.</span>
<a name="line-275"></a><span class="cm">  * @note To update the system clock frequency(SYSCLK):</span>
<a name="line-276"></a><span class="cm">  *        - Set the HSI or HSE as system clock frequency using the HAL_RCC_ClockConfig().</span>
<a name="line-277"></a><span class="cm">  *        - Call the HAL_RCC_OscConfig() to configure the PLL.</span>
<a name="line-278"></a><span class="cm">  *        - Call HAL_PWREx_ConfigVoltageScaling() API to adjust the voltage scale.</span>
<a name="line-279"></a><span class="cm">  *        - Set the new system clock frequency using the HAL_RCC_ClockConfig().</span>
<a name="line-280"></a><span class="cm">  * @note The scale can be modified only when the HSI or HSE clock source is selected </span>
<a name="line-281"></a><span class="cm">  *        as system clock source, otherwise the API returns HAL_ERROR.  </span>
<a name="line-282"></a><span class="cm">  * @note When the PLL is OFF, the voltage scale 3 is automatically selected and the VOS bits</span>
<a name="line-283"></a><span class="cm">  *       value in the PWR_CR1 register are not taken in account.</span>
<a name="line-284"></a><span class="cm">  * @note This API forces the PLL state ON to allow the possibility to configure the voltage scale 1 or 2.</span>
<a name="line-285"></a><span class="cm">  * @note The new voltage scale is active only when the PLL is ON.  </span>
<a name="line-286"></a><span class="cm">  * @retval HAL Status</span>
<a name="line-287"></a><span class="cm">  */</span>
<a name="line-288"></a><span class="hll"><span class="n">HAL_StatusTypeDef</span> <span class="nf">HAL_PWREx_ControlVoltageScaling</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">VoltageScaling</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_ControlVoltageScaling' is never used.</span>
</span><a name="line-289"></a><span class="p">{</span>
<a name="line-290"></a><span class="hll">  <span class="kt">uint32_t</span> <span class="n">tickstart</span> <span class="o">=</span> <span class="mi">0U</span><span class="p">;</span><div class="verbose expandable"><span class="error2">&lt;--- The scope of the variable 'tickstart' can be reduced. <span class="marker">[+]</span></span><div class="content">The scope of the variable &apos;tickstart&apos; can be reduced. Warning: Be careful when fixing this message, especially when there are inner loops. Here is an example where cppcheck will write that the scope for &apos;i&apos; can be reduced:<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
void f(int x)<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
{<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
    int i = 0;<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
    if (x) {<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
        // it&apos;s safe to move &apos;int i = 0;&apos; here<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
        for (int n = 0; n &lt; 10; ++n) {<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
            // it is possible but not safe to move &apos;int i = 0;&apos; here<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
            do_something(&amp;i);<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
        }<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
    }<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
}<span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
When you see this message it is always safe to reduce the variable scope 1 level.</div></div><span class="error2">&lt;--- Variable 'tickstart' is assigned a value that is never used.</span>
</span><a name="line-291"></a>  
<a name="line-292"></a>  <span class="n">assert_param</span><span class="p">(</span><span class="n">IS_PWR_VOLTAGE_SCALING_RANGE</span><span class="p">(</span><span class="n">VoltageScaling</span><span class="p">));</span>
<a name="line-293"></a>  
<a name="line-294"></a>  <span class="cm">/* Enable PWR RCC Clock Peripheral */</span>
<a name="line-295"></a>  <span class="n">__HAL_RCC_PWR_CLK_ENABLE</span><span class="p">();</span>
<a name="line-296"></a>  
<a name="line-297"></a>  <span class="cm">/* Check if the PLL is used as system clock or not */</span>
<a name="line-298"></a>  <span class="k">if</span><span class="p">(</span><span class="n">__HAL_RCC_GET_SYSCLK_SOURCE</span><span class="p">()</span> <span class="o">!=</span> <span class="n">RCC_CFGR_SWS_PLL</span><span class="p">)</span>
<a name="line-299"></a>  <span class="p">{</span>
<a name="line-300"></a>    <span class="cm">/* Disable the main PLL */</span>
<a name="line-301"></a>    <span class="n">__HAL_RCC_PLL_DISABLE</span><span class="p">();</span>
<a name="line-302"></a>    
<a name="line-303"></a>    <span class="cm">/* Get Start Tick */</span>
<a name="line-304"></a>    <span class="n">tickstart</span> <span class="o">=</span> <span class="n">HAL_GetTick</span><span class="p">();</span>    
<a name="line-305"></a>    <span class="cm">/* Wait till PLL is disabled */</span>  
<a name="line-306"></a>    <span class="k">while</span><span class="p">(</span><span class="n">__HAL_RCC_GET_FLAG</span><span class="p">(</span><span class="n">RCC_FLAG_PLLRDY</span><span class="p">)</span> <span class="o">!=</span> <span class="n">RESET</span><span class="p">)</span>
<a name="line-307"></a>    <span class="p">{</span>
<a name="line-308"></a>      <span class="k">if</span><span class="p">((</span><span class="n">HAL_GetTick</span><span class="p">()</span> <span class="o">-</span> <span class="n">tickstart</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="n">PLL_TIMEOUT_VALUE</span><span class="p">)</span>
<a name="line-309"></a>      <span class="p">{</span>
<a name="line-310"></a>        <span class="k">return</span> <span class="n">HAL_TIMEOUT</span><span class="p">;</span>
<a name="line-311"></a>      <span class="p">}</span>
<a name="line-312"></a>    <span class="p">}</span>
<a name="line-313"></a>    
<a name="line-314"></a>    <span class="cm">/* Set Range */</span>
<a name="line-315"></a>    <span class="n">__HAL_PWR_VOLTAGESCALING_CONFIG</span><span class="p">(</span><span class="n">VoltageScaling</span><span class="p">);</span>
<a name="line-316"></a>    
<a name="line-317"></a>    <span class="cm">/* Enable the main PLL */</span>
<a name="line-318"></a>    <span class="n">__HAL_RCC_PLL_ENABLE</span><span class="p">();</span>
<a name="line-319"></a>    
<a name="line-320"></a>    <span class="cm">/* Get Start Tick */</span>
<a name="line-321"></a>    <span class="n">tickstart</span> <span class="o">=</span> <span class="n">HAL_GetTick</span><span class="p">();</span>
<a name="line-322"></a>    <span class="cm">/* Wait till PLL is ready */</span>  
<a name="line-323"></a>    <span class="k">while</span><span class="p">(</span><span class="n">__HAL_RCC_GET_FLAG</span><span class="p">(</span><span class="n">RCC_FLAG_PLLRDY</span><span class="p">)</span> <span class="o">==</span> <span class="n">RESET</span><span class="p">)</span>
<a name="line-324"></a>    <span class="p">{</span>
<a name="line-325"></a>      <span class="k">if</span><span class="p">((</span><span class="n">HAL_GetTick</span><span class="p">()</span> <span class="o">-</span> <span class="n">tickstart</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="n">PLL_TIMEOUT_VALUE</span><span class="p">)</span>
<a name="line-326"></a>      <span class="p">{</span>
<a name="line-327"></a>        <span class="k">return</span> <span class="n">HAL_TIMEOUT</span><span class="p">;</span>
<a name="line-328"></a>      <span class="p">}</span> 
<a name="line-329"></a>    <span class="p">}</span>
<a name="line-330"></a>    
<a name="line-331"></a>    <span class="cm">/* Get Start Tick */</span>
<a name="line-332"></a>    <span class="n">tickstart</span> <span class="o">=</span> <span class="n">HAL_GetTick</span><span class="p">();</span>
<a name="line-333"></a>    <span class="k">while</span><span class="p">((</span><span class="n">__HAL_PWR_GET_FLAG</span><span class="p">(</span><span class="n">PWR_FLAG_VOSRDY</span><span class="p">)</span> <span class="o">==</span> <span class="n">RESET</span><span class="p">))</span>
<a name="line-334"></a>    <span class="p">{</span>
<a name="line-335"></a>      <span class="k">if</span><span class="p">((</span><span class="n">HAL_GetTick</span><span class="p">()</span> <span class="o">-</span> <span class="n">tickstart</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="n">PWR_VOSRDY_TIMEOUT_VALUE</span><span class="p">)</span>
<a name="line-336"></a>      <span class="p">{</span>
<a name="line-337"></a>        <span class="k">return</span> <span class="n">HAL_TIMEOUT</span><span class="p">;</span>
<a name="line-338"></a>      <span class="p">}</span> 
<a name="line-339"></a>    <span class="p">}</span>
<a name="line-340"></a>  <span class="p">}</span>
<a name="line-341"></a>  <span class="k">else</span>
<a name="line-342"></a>  <span class="p">{</span>
<a name="line-343"></a>    <span class="k">return</span> <span class="n">HAL_ERROR</span><span class="p">;</span>
<a name="line-344"></a>  <span class="p">}</span>
<a name="line-345"></a>
<a name="line-346"></a>  <span class="k">return</span> <span class="n">HAL_OK</span><span class="p">;</span>
<a name="line-347"></a><span class="p">}</span>
<a name="line-348"></a><span class="cp">#endif </span><span class="cm">/* STM32F405xx || STM32F415xx || STM32F407xx || STM32F417xx */</span><span class="cp"></span>
<a name="line-349"></a>
<a name="line-350"></a><span class="cp">#if defined(STM32F401xC) || defined(STM32F401xE) || defined(STM32F410Tx) || defined(STM32F410Cx) || defined(STM32F410Rx) ||\</span>
<a name="line-351"></a><span class="cp">    defined(STM32F411xE) || defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412Cx) ||\</span>
<a name="line-352"></a><span class="cp">    defined(STM32F413xx) || defined(STM32F423xx)</span>
<a name="line-353"></a><span class="cm">/**</span>
<a name="line-354"></a><span class="cm">  * @brief Enables Main Regulator low voltage mode.</span>
<a name="line-355"></a><span class="cm">  * @note  This mode is only available for STM32F401xx/STM32F410xx/STM32F411xx/STM32F412Zx/STM32F412Rx/STM32F412Vx/STM32F412Cx/</span>
<a name="line-356"></a><span class="cm">  *        STM32F413xx/STM32F423xx devices.   </span>
<a name="line-357"></a><span class="cm">  * @retval None</span>
<a name="line-358"></a><span class="cm">  */</span>
<a name="line-359"></a><span class="hll"><span class="kt">void</span> <span class="nf">HAL_PWREx_EnableMainRegulatorLowVoltage</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_EnableMainRegulatorLowVoltage' is never used.</span>
</span><a name="line-360"></a><span class="p">{</span>
<a name="line-361"></a>  <span class="o">*</span><span class="p">(</span><span class="n">__IO</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="p">)</span> <span class="n">CR_MRLVDS_BB</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">ENABLE</span><span class="p">;</span>
<a name="line-362"></a><span class="p">}</span>
<a name="line-363"></a>
<a name="line-364"></a><span class="cm">/**</span>
<a name="line-365"></a><span class="cm">  * @brief Disables Main Regulator low voltage mode.</span>
<a name="line-366"></a><span class="cm">  * @note  This mode is only available for STM32F401xx/STM32F410xx/STM32F411xx/STM32F412Zx/STM32F412Rx/STM32F412Vx/STM32F412Cx/</span>
<a name="line-367"></a><span class="cm">  *        STM32F413xx/STM32F423xxdevices. </span>
<a name="line-368"></a><span class="cm">  * @retval None</span>
<a name="line-369"></a><span class="cm">  */</span>
<a name="line-370"></a><span class="hll"><span class="kt">void</span> <span class="nf">HAL_PWREx_DisableMainRegulatorLowVoltage</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_DisableMainRegulatorLowVoltage' is never used.</span>
</span><a name="line-371"></a><span class="p">{</span>
<a name="line-372"></a>  <span class="o">*</span><span class="p">(</span><span class="n">__IO</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="p">)</span> <span class="n">CR_MRLVDS_BB</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">DISABLE</span><span class="p">;</span>
<a name="line-373"></a><span class="p">}</span>
<a name="line-374"></a>
<a name="line-375"></a><span class="cm">/**</span>
<a name="line-376"></a><span class="cm">  * @brief Enables Low Power Regulator low voltage mode.</span>
<a name="line-377"></a><span class="cm">  * @note  This mode is only available for STM32F401xx/STM32F410xx/STM32F411xx/STM32F412Zx/STM32F412Rx/STM32F412Vx/STM32F412Cx/</span>
<a name="line-378"></a><span class="cm">  *        STM32F413xx/STM32F423xx devices.   </span>
<a name="line-379"></a><span class="cm">  * @retval None</span>
<a name="line-380"></a><span class="cm">  */</span>
<a name="line-381"></a><span class="hll"><span class="kt">void</span> <span class="nf">HAL_PWREx_EnableLowRegulatorLowVoltage</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_EnableLowRegulatorLowVoltage' is never used.</span>
</span><a name="line-382"></a><span class="p">{</span>
<a name="line-383"></a>  <span class="o">*</span><span class="p">(</span><span class="n">__IO</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="p">)</span> <span class="n">CR_LPLVDS_BB</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">ENABLE</span><span class="p">;</span>
<a name="line-384"></a><span class="p">}</span>
<a name="line-385"></a>
<a name="line-386"></a><span class="cm">/**</span>
<a name="line-387"></a><span class="cm">  * @brief Disables Low Power Regulator low voltage mode.</span>
<a name="line-388"></a><span class="cm">  * @note  This mode is only available for STM32F401xx/STM32F410xx/STM32F411xx/STM32F412Zx/STM32F412Rx/STM32F412Vx/STM32F412Cx/</span>
<a name="line-389"></a><span class="cm">  *        STM32F413xx/STM32F423xx  devices.   </span>
<a name="line-390"></a><span class="cm">  * @retval None</span>
<a name="line-391"></a><span class="cm">  */</span>
<a name="line-392"></a><span class="hll"><span class="kt">void</span> <span class="nf">HAL_PWREx_DisableLowRegulatorLowVoltage</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_DisableLowRegulatorLowVoltage' is never used.</span>
</span><a name="line-393"></a><span class="p">{</span>
<a name="line-394"></a>  <span class="o">*</span><span class="p">(</span><span class="n">__IO</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="p">)</span> <span class="n">CR_LPLVDS_BB</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">DISABLE</span><span class="p">;</span>
<a name="line-395"></a><span class="p">}</span>
<a name="line-396"></a>
<a name="line-397"></a><span class="cp">#endif </span><span class="cm">/* STM32F401xC || STM32F401xE || STM32F410xx || STM32F411xE || STM32F412Zx || STM32F412Rx || STM32F412Vx || STM32F412Cx ||</span>
<a name="line-398"></a><span class="cm">          STM32F413xx || STM32F423xx */</span><span class="cp"></span>
<a name="line-399"></a>
<a name="line-400"></a><span class="cp">#if defined(STM32F427xx) || defined(STM32F437xx) || defined(STM32F429xx) || defined(STM32F439xx) ||\</span>
<a name="line-401"></a><span class="cp">    defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx)</span>
<a name="line-402"></a><span class="cm">/**</span>
<a name="line-403"></a><span class="cm">  * @brief  Activates the Over-Drive mode.</span>
<a name="line-404"></a><span class="cm">  * @note   This function can be used only for STM32F42xx/STM32F43xx/STM32F446xx/STM32F469xx/STM32F479xx devices.</span>
<a name="line-405"></a><span class="cm">  *         This mode allows the CPU and the core logic to operate at a higher frequency</span>
<a name="line-406"></a><span class="cm">  *         than the normal mode for a given voltage scaling (scale 1, scale 2 or scale 3).   </span>
<a name="line-407"></a><span class="cm">  * @note   It is recommended to enter or exit Over-drive mode when the application is not running </span>
<a name="line-408"></a><span class="cm">  *         critical tasks and when the system clock source is either HSI or HSE. </span>
<a name="line-409"></a><span class="cm">  *         During the Over-drive switch activation, no peripheral clocks should be enabled.   </span>
<a name="line-410"></a><span class="cm">  *         The peripheral clocks must be enabled once the Over-drive mode is activated.   </span>
<a name="line-411"></a><span class="cm">  * @retval HAL status</span>
<a name="line-412"></a><span class="cm">  */</span>
<a name="line-413"></a><span class="n">HAL_StatusTypeDef</span> <span class="nf">HAL_PWREx_EnableOverDrive</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a name="line-414"></a><span class="p">{</span>
<a name="line-415"></a>  <span class="kt">uint32_t</span> <span class="n">tickstart</span> <span class="o">=</span> <span class="mi">0U</span><span class="p">;</span>
<a name="line-416"></a>
<a name="line-417"></a>  <span class="n">__HAL_RCC_PWR_CLK_ENABLE</span><span class="p">();</span>
<a name="line-418"></a>  
<a name="line-419"></a>  <span class="cm">/* Enable the Over-drive to extend the clock frequency to 180 Mhz */</span>
<a name="line-420"></a>  <span class="n">__HAL_PWR_OVERDRIVE_ENABLE</span><span class="p">();</span>
<a name="line-421"></a>
<a name="line-422"></a>  <span class="cm">/* Get tick */</span>
<a name="line-423"></a>  <span class="n">tickstart</span> <span class="o">=</span> <span class="n">HAL_GetTick</span><span class="p">();</span>
<a name="line-424"></a>
<a name="line-425"></a>  <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">__HAL_PWR_GET_FLAG</span><span class="p">(</span><span class="n">PWR_FLAG_ODRDY</span><span class="p">))</span>
<a name="line-426"></a>  <span class="p">{</span>
<a name="line-427"></a>    <span class="k">if</span><span class="p">((</span><span class="n">HAL_GetTick</span><span class="p">()</span> <span class="o">-</span> <span class="n">tickstart</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">PWR_OVERDRIVE_TIMEOUT_VALUE</span><span class="p">)</span>
<a name="line-428"></a>    <span class="p">{</span>
<a name="line-429"></a>      <span class="k">return</span> <span class="n">HAL_TIMEOUT</span><span class="p">;</span>
<a name="line-430"></a>    <span class="p">}</span>
<a name="line-431"></a>  <span class="p">}</span>
<a name="line-432"></a>  
<a name="line-433"></a>  <span class="cm">/* Enable the Over-drive switch */</span>
<a name="line-434"></a>  <span class="n">__HAL_PWR_OVERDRIVESWITCHING_ENABLE</span><span class="p">();</span>
<a name="line-435"></a>
<a name="line-436"></a>  <span class="cm">/* Get tick */</span>
<a name="line-437"></a>  <span class="n">tickstart</span> <span class="o">=</span> <span class="n">HAL_GetTick</span><span class="p">();</span>
<a name="line-438"></a>
<a name="line-439"></a>  <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">__HAL_PWR_GET_FLAG</span><span class="p">(</span><span class="n">PWR_FLAG_ODSWRDY</span><span class="p">))</span>
<a name="line-440"></a>  <span class="p">{</span>
<a name="line-441"></a>    <span class="k">if</span><span class="p">((</span><span class="n">HAL_GetTick</span><span class="p">()</span> <span class="o">-</span> <span class="n">tickstart</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="n">PWR_OVERDRIVE_TIMEOUT_VALUE</span><span class="p">)</span>
<a name="line-442"></a>    <span class="p">{</span>
<a name="line-443"></a>      <span class="k">return</span> <span class="n">HAL_TIMEOUT</span><span class="p">;</span>
<a name="line-444"></a>    <span class="p">}</span>
<a name="line-445"></a>  <span class="p">}</span> 
<a name="line-446"></a>  <span class="k">return</span> <span class="n">HAL_OK</span><span class="p">;</span>
<a name="line-447"></a><span class="p">}</span>
<a name="line-448"></a>
<a name="line-449"></a><span class="cm">/**</span>
<a name="line-450"></a><span class="cm">  * @brief  Deactivates the Over-Drive mode.</span>
<a name="line-451"></a><span class="cm">  * @note   This function can be used only for STM32F42xx/STM32F43xx/STM32F446xx/STM32F469xx/STM32F479xx devices.</span>
<a name="line-452"></a><span class="cm">  *         This mode allows the CPU and the core logic to operate at a higher frequency</span>
<a name="line-453"></a><span class="cm">  *         than the normal mode for a given voltage scaling (scale 1, scale 2 or scale 3).    </span>
<a name="line-454"></a><span class="cm">  * @note   It is recommended to enter or exit Over-drive mode when the application is not running </span>
<a name="line-455"></a><span class="cm">  *         critical tasks and when the system clock source is either HSI or HSE. </span>
<a name="line-456"></a><span class="cm">  *         During the Over-drive switch activation, no peripheral clocks should be enabled.   </span>
<a name="line-457"></a><span class="cm">  *         The peripheral clocks must be enabled once the Over-drive mode is activated.</span>
<a name="line-458"></a><span class="cm">  * @retval HAL status</span>
<a name="line-459"></a><span class="cm">  */</span>
<a name="line-460"></a><span class="hll"><span class="n">HAL_StatusTypeDef</span> <span class="nf">HAL_PWREx_DisableOverDrive</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_DisableOverDrive' is never used.</span>
</span><a name="line-461"></a><span class="p">{</span>
<a name="line-462"></a>  <span class="kt">uint32_t</span> <span class="n">tickstart</span> <span class="o">=</span> <span class="mi">0U</span><span class="p">;</span>
<a name="line-463"></a>  
<a name="line-464"></a>  <span class="n">__HAL_RCC_PWR_CLK_ENABLE</span><span class="p">();</span>
<a name="line-465"></a>    
<a name="line-466"></a>  <span class="cm">/* Disable the Over-drive switch */</span>
<a name="line-467"></a>  <span class="n">__HAL_PWR_OVERDRIVESWITCHING_DISABLE</span><span class="p">();</span>
<a name="line-468"></a>  
<a name="line-469"></a>  <span class="cm">/* Get tick */</span>
<a name="line-470"></a>  <span class="n">tickstart</span> <span class="o">=</span> <span class="n">HAL_GetTick</span><span class="p">();</span>
<a name="line-471"></a> 
<a name="line-472"></a>  <span class="k">while</span><span class="p">(</span><span class="n">__HAL_PWR_GET_FLAG</span><span class="p">(</span><span class="n">PWR_FLAG_ODSWRDY</span><span class="p">))</span>
<a name="line-473"></a>  <span class="p">{</span>
<a name="line-474"></a>    <span class="k">if</span><span class="p">((</span><span class="n">HAL_GetTick</span><span class="p">()</span> <span class="o">-</span> <span class="n">tickstart</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">PWR_OVERDRIVE_TIMEOUT_VALUE</span><span class="p">)</span>
<a name="line-475"></a>    <span class="p">{</span>
<a name="line-476"></a>      <span class="k">return</span> <span class="n">HAL_TIMEOUT</span><span class="p">;</span>
<a name="line-477"></a>    <span class="p">}</span>
<a name="line-478"></a>  <span class="p">}</span> 
<a name="line-479"></a>  
<a name="line-480"></a>  <span class="cm">/* Disable the Over-drive */</span>
<a name="line-481"></a>  <span class="n">__HAL_PWR_OVERDRIVE_DISABLE</span><span class="p">();</span>
<a name="line-482"></a>
<a name="line-483"></a>  <span class="cm">/* Get tick */</span>
<a name="line-484"></a>  <span class="n">tickstart</span> <span class="o">=</span> <span class="n">HAL_GetTick</span><span class="p">();</span>
<a name="line-485"></a>
<a name="line-486"></a>  <span class="k">while</span><span class="p">(</span><span class="n">__HAL_PWR_GET_FLAG</span><span class="p">(</span><span class="n">PWR_FLAG_ODRDY</span><span class="p">))</span>
<a name="line-487"></a>  <span class="p">{</span>
<a name="line-488"></a>    <span class="k">if</span><span class="p">((</span><span class="n">HAL_GetTick</span><span class="p">()</span> <span class="o">-</span> <span class="n">tickstart</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">PWR_OVERDRIVE_TIMEOUT_VALUE</span><span class="p">)</span>
<a name="line-489"></a>    <span class="p">{</span>
<a name="line-490"></a>      <span class="k">return</span> <span class="n">HAL_TIMEOUT</span><span class="p">;</span>
<a name="line-491"></a>    <span class="p">}</span>
<a name="line-492"></a>  <span class="p">}</span>
<a name="line-493"></a>  
<a name="line-494"></a>  <span class="k">return</span> <span class="n">HAL_OK</span><span class="p">;</span>
<a name="line-495"></a><span class="p">}</span>
<a name="line-496"></a>
<a name="line-497"></a><span class="cm">/**</span>
<a name="line-498"></a><span class="cm">  * @brief  Enters in Under-Drive STOP mode.</span>
<a name="line-499"></a><span class="cm">  *  </span>
<a name="line-500"></a><span class="cm">  * @note   This mode is only available for STM32F42xxx/STM32F43xxx/STM32F446xx/STM32F469xx/STM32F479xx devices.</span>
<a name="line-501"></a><span class="cm">  * </span>
<a name="line-502"></a><span class="cm">  * @note    This mode can be selected only when the Under-Drive is already active </span>
<a name="line-503"></a><span class="cm">  *   </span>
<a name="line-504"></a><span class="cm">  * @note    This mode is enabled only with STOP low power mode.</span>
<a name="line-505"></a><span class="cm">  *          In this mode, the 1.2V domain is preserved in reduced leakage mode. This </span>
<a name="line-506"></a><span class="cm">  *          mode is only available when the main regulator or the low power regulator </span>
<a name="line-507"></a><span class="cm">  *          is in low voltage mode</span>
<a name="line-508"></a><span class="cm">  *        </span>
<a name="line-509"></a><span class="cm">  * @note   If the Under-drive mode was enabled, it is automatically disabled after </span>
<a name="line-510"></a><span class="cm">  *         exiting Stop mode. </span>
<a name="line-511"></a><span class="cm">  *         When the voltage regulator operates in Under-drive mode, an additional  </span>
<a name="line-512"></a><span class="cm">  *         startup delay is induced when waking up from Stop mode.</span>
<a name="line-513"></a><span class="cm">  *                    </span>
<a name="line-514"></a><span class="cm">  * @note   In Stop mode, all I/O pins keep the same state as in Run mode.</span>
<a name="line-515"></a><span class="cm">  *   </span>
<a name="line-516"></a><span class="cm">  * @note   When exiting Stop mode by issuing an interrupt or a wake-up event, </span>
<a name="line-517"></a><span class="cm">  *         the HSI RC oscillator is selected as system clock.</span>
<a name="line-518"></a><span class="cm">  *           </span>
<a name="line-519"></a><span class="cm">  * @note   When the voltage regulator operates in low power mode, an additional </span>
<a name="line-520"></a><span class="cm">  *         startup delay is incurred when waking up from Stop mode. </span>
<a name="line-521"></a><span class="cm">  *         By keeping the internal regulator ON during Stop mode, the consumption </span>
<a name="line-522"></a><span class="cm">  *         is higher although the startup time is reduced.</span>
<a name="line-523"></a><span class="cm">  *     </span>
<a name="line-524"></a><span class="cm">  * @param  Regulator specifies the regulator state in STOP mode.</span>
<a name="line-525"></a><span class="cm">  *          This parameter can be one of the following values:</span>
<a name="line-526"></a><span class="cm">  *            @arg PWR_MAINREGULATOR_UNDERDRIVE_ON:  Main Regulator in under-drive mode </span>
<a name="line-527"></a><span class="cm">  *                 and Flash memory in power-down when the device is in Stop under-drive mode</span>
<a name="line-528"></a><span class="cm">  *            @arg PWR_LOWPOWERREGULATOR_UNDERDRIVE_ON:  Low Power Regulator in under-drive mode </span>
<a name="line-529"></a><span class="cm">  *                and Flash memory in power-down when the device is in Stop under-drive mode</span>
<a name="line-530"></a><span class="cm">  * @param  STOPEntry specifies if STOP mode in entered with WFI or WFE instruction.</span>
<a name="line-531"></a><span class="cm">  *          This parameter can be one of the following values:</span>
<a name="line-532"></a><span class="cm">  *            @arg PWR_SLEEPENTRY_WFI: enter STOP mode with WFI instruction</span>
<a name="line-533"></a><span class="cm">  *            @arg PWR_SLEEPENTRY_WFE: enter STOP mode with WFE instruction</span>
<a name="line-534"></a><span class="cm">  * @retval None</span>
<a name="line-535"></a><span class="cm">  */</span>
<a name="line-536"></a><span class="hll"><span class="n">HAL_StatusTypeDef</span> <span class="nf">HAL_PWREx_EnterUnderDriveSTOPMode</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">Regulator</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">STOPEntry</span><span class="p">)</span><span class="error2">&lt;--- The function 'HAL_PWREx_EnterUnderDriveSTOPMode' is never used.</span>
</span><a name="line-537"></a><span class="p">{</span>
<a name="line-538"></a>  <span class="kt">uint32_t</span> <span class="n">tmpreg1</span> <span class="o">=</span> <span class="mi">0U</span><span class="p">;</span>
<a name="line-539"></a>
<a name="line-540"></a>  <span class="cm">/* Check the parameters */</span>
<a name="line-541"></a>  <span class="n">assert_param</span><span class="p">(</span><span class="n">IS_PWR_REGULATOR_UNDERDRIVE</span><span class="p">(</span><span class="n">Regulator</span><span class="p">));</span>
<a name="line-542"></a>  <span class="n">assert_param</span><span class="p">(</span><span class="n">IS_PWR_STOP_ENTRY</span><span class="p">(</span><span class="n">STOPEntry</span><span class="p">));</span>
<a name="line-543"></a>  
<a name="line-544"></a>  <span class="cm">/* Enable Power ctrl clock */</span>
<a name="line-545"></a>  <span class="n">__HAL_RCC_PWR_CLK_ENABLE</span><span class="p">();</span>
<a name="line-546"></a>  <span class="cm">/* Enable the Under-drive Mode ---------------------------------------------*/</span>
<a name="line-547"></a>  <span class="cm">/* Clear Under-drive flag */</span>
<a name="line-548"></a>  <span class="n">__HAL_PWR_CLEAR_ODRUDR_FLAG</span><span class="p">();</span>
<a name="line-549"></a>  
<a name="line-550"></a>  <span class="cm">/* Enable the Under-drive */</span> 
<a name="line-551"></a>  <span class="n">__HAL_PWR_UNDERDRIVE_ENABLE</span><span class="p">();</span>
<a name="line-552"></a>
<a name="line-553"></a>  <span class="cm">/* Select the regulator state in STOP mode ---------------------------------*/</span>
<a name="line-554"></a>  <span class="n">tmpreg1</span> <span class="o">=</span> <span class="n">PWR</span><span class="o">-&gt;</span><span class="n">CR</span><span class="p">;</span>
<a name="line-555"></a>  <span class="cm">/* Clear PDDS, LPDS, MRLUDS and LPLUDS bits */</span>
<a name="line-556"></a>  <span class="n">tmpreg1</span> <span class="o">&amp;=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="o">~</span><span class="p">(</span><span class="n">PWR_CR_PDDS</span> <span class="o">|</span> <span class="n">PWR_CR_LPDS</span> <span class="o">|</span> <span class="n">PWR_CR_LPUDS</span> <span class="o">|</span> <span class="n">PWR_CR_MRUDS</span><span class="p">);</span>
<a name="line-557"></a>  
<a name="line-558"></a>  <span class="cm">/* Set LPDS, MRLUDS and LPLUDS bits according to PWR_Regulator value */</span>
<a name="line-559"></a>  <span class="n">tmpreg1</span> <span class="o">|=</span> <span class="n">Regulator</span><span class="p">;</span>
<a name="line-560"></a>  
<a name="line-561"></a>  <span class="cm">/* Store the new value */</span>
<a name="line-562"></a>  <span class="n">PWR</span><span class="o">-&gt;</span><span class="n">CR</span> <span class="o">=</span> <span class="n">tmpreg1</span><span class="p">;</span>
<a name="line-563"></a>  
<a name="line-564"></a>  <span class="cm">/* Set SLEEPDEEP bit of Cortex System Control Register */</span>
<a name="line-565"></a>  <span class="n">SCB</span><span class="o">-&gt;</span><span class="n">SCR</span> <span class="o">|=</span> <span class="n">SCB_SCR_SLEEPDEEP_Msk</span><span class="p">;</span>
<a name="line-566"></a>  
<a name="line-567"></a>  <span class="cm">/* Select STOP mode entry --------------------------------------------------*/</span>
<a name="line-568"></a>  <span class="k">if</span><span class="p">(</span><span class="n">STOPEntry</span> <span class="o">==</span> <span class="n">PWR_SLEEPENTRY_WFI</span><span class="p">)</span>
<a name="line-569"></a>  <span class="p">{</span>   
<a name="line-570"></a>    <span class="cm">/* Request Wait For Interrupt */</span>
<a name="line-571"></a>    <span class="n">__WFI</span><span class="p">();</span>
<a name="line-572"></a>  <span class="p">}</span>
<a name="line-573"></a>  <span class="k">else</span>
<a name="line-574"></a>  <span class="p">{</span>
<a name="line-575"></a>    <span class="cm">/* Request Wait For Event */</span>
<a name="line-576"></a>    <span class="n">__WFE</span><span class="p">();</span>
<a name="line-577"></a>  <span class="p">}</span>
<a name="line-578"></a>  <span class="cm">/* Reset SLEEPDEEP bit of Cortex System Control Register */</span>
<a name="line-579"></a>  <span class="n">SCB</span><span class="o">-&gt;</span><span class="n">SCR</span> <span class="o">&amp;=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="o">~</span><span class="p">((</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">SCB_SCR_SLEEPDEEP_Msk</span><span class="p">);</span>
<a name="line-580"></a>
<a name="line-581"></a>  <span class="k">return</span> <span class="n">HAL_OK</span><span class="p">;</span>  
<a name="line-582"></a><span class="p">}</span>
<a name="line-583"></a>
<a name="line-584"></a><span class="cp">#endif </span><span class="cm">/* STM32F427xx || STM32F437xx || STM32F429xx || STM32F439xx || STM32F446xx || STM32F469xx || STM32F479xx */</span><span class="cp"></span>
<a name="line-585"></a><span class="cm">/**</span>
<a name="line-586"></a><span class="cm">  * @}</span>
<a name="line-587"></a><span class="cm">  */</span>
<a name="line-588"></a>
<a name="line-589"></a><span class="cm">/**</span>
<a name="line-590"></a><span class="cm">  * @}</span>
<a name="line-591"></a><span class="cm">  */</span>
<a name="line-592"></a>
<a name="line-593"></a><span class="cp">#endif </span><span class="cm">/* HAL_PWR_MODULE_ENABLED */</span><span class="cp"></span>
<a name="line-594"></a><span class="cm">/**</span>
<a name="line-595"></a><span class="cm">  * @}</span>
<a name="line-596"></a><span class="cm">  */</span>
<a name="line-597"></a>
<a name="line-598"></a><span class="cm">/**</span>
<a name="line-599"></a><span class="cm">  * @}</span>
<a name="line-600"></a><span class="cm">  */</span>
</pre></div>
</td></tr></table>
      </div> <!-- /.wrapper -->
    </div>
    <div id="footer" class="footer">
      <p>
        Cppcheck 2.3 - a tool for static C/C++ code analysis<br>
        <br>
        Internet: <a href="http://cppcheck.net">http://cppcheck.net</a><br>
        IRC: <a href="irc://irc.freenode.net/cppcheck">irc://irc.freenode.net/cppcheck</a><br>
      </p>
    </div>
  </body>
</html>
